<!DOCTYPE html>
<html lang="es" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <h1>Editar producto</h1>
    <form th:action="@{/admin/productos/guardar}" th:object="${producto}" method="post" enctype="multipart/form-data">
        <div>
            <label>Nombre</label>
            <div>
                <input type="text" th:field="*{nombre}">
            </div>
            <small th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></small>
        </div>

        <div>
            <label>Precio</label>
            <div>
                <input type="number" step="0.01" th:field="*{precio}">
            </div>
            <small th:if="${#fields.hasErrors('precio')}" th:errors="*{nombre}"></small>
        </div>

        <div>
            <label>Tipo</label>
            <div>
                <select th:field="*{tipo.id}">
                    <option th:each="tipoProd: ${tipoProductoList}" th:text="${tipoProd.nombre}"
                            th:value="${tipoProd.id}"></option>
                </select>
            </div>
        </div>

        <div>
            <label>Descripcion</label>
            <div>
                <textarea th:field="*{descripcion}" rows="4" cols="50"></textarea>
            </div>
            <small th:if="${#fields.hasErrors('descripcion')}" th:errors="*{descripcion}"></small>
        </div>

        <div th:if="${producto.pathFoto != null}">
            <img th:src="@{/resources/uploads/{pathFoto}(pathFoto=${producto.pathFoto})}" width="100" height="100">
        </div>

        <div>
            <label for="foto">Foto</label>
            <div>
                <input id="foto" type="file" name="foto">
            </div>
        </div>

        <div>
            <div>
                <input type="submit" value="Crear producto">
            </div>
        </div>

    </form>

</body>
</html>